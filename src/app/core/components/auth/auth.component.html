<div class="blur_sm flex h-[90dvh] w-full items-center justify-center">
  <nz-spin
    [nzSpinning]="loading"
    nzSize="large"
    class="sm_blur mx-[16px] w-full max-w-[350px]"
  >
    <form
      nz-form
      [nzLayout]="'inline'"
      (ngSubmit)="submitForm()"
      class="flex w-full flex-col justify-center gap-5 rounded-lg p-5 shadow-lg"
      [formGroup]="validateForm"
    >
      <h2 class="text-center text-3xl dark:text-gray-200">{{ type }}</h2>
      <nz-form-item *ngIf="sign">
        <nz-form-control [nzErrorTip]="getError('userName')">
          <nz-input-group nzPrefixIcon="user" class="nz_input_group z-0">
            <input
              formControlName="userName"
              nz-input
              placeholder="Username"
              class="nz_input capitalize"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control [nzErrorTip]="getError('email')">
          <nz-input-group nzPrefixIcon="mail" class="nz_input_group z-0">
            <input
              formControlName="email"
              nz-input
              placeholder="Email"
              class="nz_input"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control [nzErrorTip]="getError('password')">
          <nz-input-group nzPrefixIcon="lock" class="nz_input_group z-0">
            <input
              formControlName="password"
              nz-input
              type="password"
              placeholder="Password"
              class="nz_input"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item class="flex flex-col">
        <nz-form-control>
          <button
            nz-button
            nzType="primary"
            class="flex items-center justify-center gap-1 rounded-md bg-primary"
            nzBlock="full"
            type="submit"
            [nzLoading]="loading"
          >
            Login
          </button>
        </nz-form-control>
        <nz-divider
          nzText="Or"
          class="!border-gray-400 dark:text-gray-300"
        ></nz-divider>
        <div class="relative">
          <button
            nz-button
            nzType="default"
            class="rounded-md border-primary !bg-transparent pr-10 text-black hover:!text-primary dark:text-gray-200"
            nzBlock="full"
            type="button"
            [disabled]="loading"
            (click)="withGoogle()"
          >
            Continue with Google
          </button>
        </div>
      </nz-form-item>
      <p *ngIf="sign" class="dark:text-gray-200">
        Or
        <a [routerLink]="['/login']" class="text-primary">login now!</a>
      </p>
      <p *ngIf="!sign" class="dark:text-gray-200">
        Or
        <a [routerLink]="['/sign']" class="text-primary">register now!</a>
      </p>
    </form>
  </nz-spin>
</div>
